<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forest Products Transport Dashboard</title>
     <link rel="icon" href="https://ia601205.us.archive.org/12/items/icon_20250717/icon.png" type="image/png">

     <link rel="stylesheet" href="dashboard.css">



  


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    

</head>
<body>

   <!-- Top bar -->
<div class="flex justify-end p-4">
  <button 
    onclick="logout()" 
    class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-semibold rounded-lg shadow-md transition">
    Logout
  </button>
</div>


<!-- Philippine Date & Time -->
<div class="flex flex-col items-end p-1 text-lg font-medium text-blue-600 leading-tight" style="line-height: 1.2;">
  <p id="ph-date" class="mb-0.5"></p>
  <p id="ph-time" class="mb-0"></p>
  <div id="user-info" class="flex justify-end items-center gap-2 p-1 text-lg font-medium text-gray-700 mt-2">
  <!-- Profile photo -->
  <img src="https://via.placeholder.com/40" alt="Profile Photo" class="w-10 h-10 rounded-full border border-gray-300">

  <!-- User name or info -->
  <span id="user-name">John Doe</span>
</div>
</div>



    <div class="dashboard-container">
        <div class="header">
            <h1>Forest Products Transport Dashboard</h1>
            <p>Monthly analytics and monitoring of forest product permits</p>
            <div style="display: flex; align-items: center; justify-content: center; gap: 20px; margin-top: 20px;">
                <button class="refresh-btn" onclick="previousMonth()">â† Previous Month</button>
                <div style="background: #ecf0f1; padding: 10px 20px; border-radius: 8px; font-weight: bold; color: #2c3e50;">
                    <span id="currentMonth">Loading...</span>
                </div>
                <button class="refresh-btn" onclick="nextMonth()">Next Month â†’</button>
                <button class="refresh-btn" onclick="loadData()">ğŸ”„ Refresh Data</button>
                <button class="refresh-btn" onclick="generatePDFReport()" style="background: #c20d0d;">ğŸ“„ Generate PDF Report</button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="totalPermits">-</div>
                <div class="stat-label">Total Permits</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalVolume">-</div>
                <div class="stat-label">Total Volume (CU.M)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalBdFt">-</div>
                <div class="stat-label">Total BD.FT</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalPieces">-</div>
                <div class="stat-label">Total Pieces</div>
            </div>
        </div>

        <div class="filters-section">
            <h3 style="color: #2c3e50; margin-bottom: 15px;">ğŸ“Š Filters & Controls</h3>
            <div class="filters-grid">
                <div class="filter-group">
                    <label>Date Range From:</label>
                    <input type="date" id="dateFrom" onchange="applyFilters()">
                </div>
                <div class="filter-group">
                    <label>Date Range To:</label>
                    <input type="date" id="dateTo" onchange="applyFilters()">
                </div>
                <div class="filter-group">
                    <label>Destination -Address/Location:</label>
                    <select id="speciesFilter" onchange="applyFilters()">
                        <option value="">All Destinations</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>CENRO Origin:</label>
                    <select id="cenroFilter" onchange="applyFilters()">
                        <option value="">All CENRO</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">ğŸ“ˆPermits by Species</div>
                <canvas id="speciesChart"></canvas>
            </div>
            <div class="chart-container">
                <div class="chart-title">ğŸŒ³Kind of Forest Products</div>
                <canvas id="monthlyChart"></canvas>
            </div>
            <div class="chart-container">
                <div class="chart-title">ğŸ“Š Daily Trend</div>
                <canvas id="dailyChart"></canvas>
            </div>
            <div class="chart-container">
                <div class="chart-title">ğŸ¢CENRO-Origin trend</div>
                <canvas id="cenroChart"></canvas>
            </div>
            <div class="chart-container">
                <div class="chart-title">ğŸ“ Destination Distribution</div>
                <canvas id="destinationChart"></canvas>
            </div>
            <div class="chart-container">
                <div class="chart-title">ğŸ“„ Permit Types</div>
                <canvas id="permitTypeChart"></canvas>
            </div>
            <div class="chart-container">
                <div class="chart-title">ğŸ‘¥ Consignee Volume Distribution (CU.M)</div>
                <canvas id="consigneeChart"></canvas>
            </div>
        </div>

        <div class="data-table">
            <div class="table-header">
                ğŸ“‹ Recent Permits Data
            </div>
            <div class="table-container">
                <div id="loadingMessage" class="loading">Loading data...</div>
                <div id="errorMessage" class="error" style="display: none;"></div>
                <table id="dataTable" style="display: none;">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Permittee</th>
                            <th>Species</th>
                            <th>Pieces</th>
                            <th>Volume (CU.M)</th>
                            <th>BD.FT</th>
                            <th>Transport Type</th>
                            <th>Plate No.</th>
                            <th>CENRO Origin</th>
                            <th>Permit Issued  Type</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    

<!--security-->
  <script>
  document.addEventListener("contextmenu", e => e.preventDefault());
  document.onkeydown = function(e) {
    if (e.keyCode === 123 || (e.ctrlKey && e.shiftKey && e.keyCode === 'I'.charCodeAt(0))) {
      return false;
    }
  };
</script>  
<script type="module" src="dashboard.js"></script>
</body>
</html>
